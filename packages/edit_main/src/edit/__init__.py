# Copyright Commonwealth of Australia, Bureau of Meteorology 2024.
# This software is provided under license 'as is', without warranty
# of any kind including, but not limited to, fitness for a particular
# purpose. The user assumes the entire risk as to the use and
# performance of the software. In no event shall the copyright holder
# be held liable for any claim, damages or other liability arising
# from the use of the software.

"""
The Environmental Data Intelligence Toolkit

Imports `utils`, `data`, and `pipeline` by default.

More can be imported with `import edit.SUBMODULENAME`
"""

try:
    # NOTE: the `_version.py` file must not be present in the git repository
    #   as it is generated by setuptools at install time
    from ._version import __version__  # type: ignore
except ImportError:  # pragma: no cover
    # Local copy or not installed with setuptools
    __version__ = "999"

import edit.utils as utils
import edit.data as data
import edit.pipeline as pipeline

__all__ = ["utils", "data", "pipeline"]

def show_versions():
    """Show versions of installed edit modules"""
    import edit
    import inspect
    list_of_versions = []
    
    total_size = 20
    
    def add_padding(item: str) -> str:
        length = len(item)
        return item + ''.join([' ' for _ in range(total_size - length)])
        
    
    for module_name, module in inspect.getmembers(edit, inspect.ismodule):
        if module_name == '_version':
            module_name = 'edit'
        list_of_versions.append(f"{add_padding(module_name + ':')} \t {getattr(module, '__version__', None)}")
        
    print('EDIT - Versions:')
    for vers in list_of_versions:
        print(f"\t{vers}")
